#!/usr/bin/env php
<?php

require __DIR__ . '/../vendor/autoload.php';

ini_set('xdebug.max_nesting_level', 3000);
ini_set('xdebug.var_display_max_children', -1);
ini_set('xdebug.var_display_max_data', -1);
ini_set('xdebug.var_display_max_depth', -1);

use PhpParser\NodeTraverser;
use PhpParser\NodeVisitor\NameResolver;
use PhpParser\ParserFactory;
use PhpParser\PrettyPrinter\Standard;
use PhpParser\Lexer;
use Symfony\Component\Console\Application;
use NamaeSpace\Command\FindCommand;
use NamaeSpace\Command\ReplaceCommand;

$lexer = new Lexer(['usedAttributes' => [
    'startLine', 'startFilePos', 'endFilePos'
]]);
$parser = (new ParserFactory())->create(ParserFactory::PREFER_PHP5, $lexer);
$traverser = new NodeTraverSer();
$traverser->addVisitor(new NameResolver());
$prettyPrinter = new Standard(['shortArraySyntax' => true]);

$app = new Application();
$app->add(new ReplaceCommand());
//$app->add(new FindCommand($parser, $traverser));
$app->run();
